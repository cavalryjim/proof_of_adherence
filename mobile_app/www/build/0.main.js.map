{"version":3,"sources":["../../src/pages/device/device.module.ts","../../src/pages/device/device.ts","../../src/pipes/pipes.module.ts","../../src/pipes/reverse-pipe.ts"],"names":[],"mappings":"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","file":"0.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DevicePage } from './device';\nimport { PipesModule } from \"../../pipes/pipes.module\";\n\n@NgModule({\n  declarations: [\n    DevicePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DevicePage),\n    PipesModule\n  ],\n  exports: [\n    DevicePage\n  ]\n})\nexport class DeviceModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/device/device.module.ts","import { Component, ViewChild, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { Chart } from 'chart.js';\nimport { DeviceModel } from '../../models/device';\nimport { Reading } from '../../models/reading';\nimport { ReadingsService } from '../../services/readings';\n\n@IonicPage()\n@Component({\n  selector: 'page-device',\n  templateUrl: 'device.html',\n  //pipes: ReversePipe\n})\nexport class DevicePage implements OnInit {\n  device: DeviceModel;\n  title: string;\n  model: string;\n  readings: Reading[] = [];\n  //peripheral_type = '';\n  reading_label = 'lbs';\n  @ViewChild('weightCanvas') weightCanvas;\n  @ViewChild('bpCanvas') bpCanvas;\n  @ViewChild('pulseOxCanvas') pulseOxCanvas;\n  @ViewChild('temperatureCanvas') temperatureCanvas;\n  weightChart: any;\n  bpChart: any;\n  pulseOxChart: any;\n  temperatureChart: any;\n  weightData = [];\n  systolicData = [];\n  diastolicData = [];\n  temperatureData = [];\n  pulseOxData = [];\n  peripheral_type = \"\";\n\n  constructor( private navCtrl: NavController, \n               private navParams: NavParams,\n               private storage: Storage,\n               private readingsService: ReadingsService,\n               private events: Events ) {\n                 \n    events.subscribe('readings:updated' , () => {\n      this.loadReadings();\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad DevicePage');\n    \n  } \n    \n  ngOnInit() {\n    this.device = this.navParams.data;\n    this.peripheral_type = this.device.peripheral_type;\n    this.title = this.device.name; \n    this.model = this.device.model;\n    this.loadReadings();\n  }\n  \n  loadReadings() {\n    console.log(this.device.peripheral_type);\n    switch (this.device.peripheral_type) {\n      case ('thermometer'):\n        this.reading_label = 'F';\n        this.readings = this.readingsService.getThermometerReadings();\n        this.drawTemperatureChart();\n        break;\n      case ('blood_pressure'):\n        this.reading_label = 'bp';\n        this.readings = this.readingsService.getBPReadings();\n        this.drawBPChart();\n        break;\n      case ('heart_rate'):\n        this.reading_label = 'bpm';\n        break;\n      case ('glucose'):\n        this.reading_label = 'level';\n        break;\n      case ('weight'):\n        this.reading_label = 'lbs';\n        this.readings = this.readingsService.getWeightReadings();\n        this.drawWeightChart();\n        break;\n      case ('pulse_oximeter'):\n        this.reading_label = '%';\n        this.readings = this.readingsService.getPulseOxReadings();\n        this.drawPulseOxChart();\n        break;\n      case ('fitness_tracker'):\n        this.reading_label = 'level';\n        break;\n    }\n  }\n  \n  drawPulseOxChart() {\n    this.pulseOxData = this.readingsService.getPulseOxData();\n    \n    // JDavis: graph weight readings for the past three months.\n    this.pulseOxChart = new Chart(this.pulseOxCanvas.nativeElement, {\n      type: 'line',\n      data: {\n        //labels: [new Date(\"2017-03-25\"), new Date(\"2017-03-26\"), new Date(\"2017-05-22\")],\n        datasets: [{\n          label: \"%\",\n          data: this.pulseOxData,\n          borderColor: \"#8BA6C1\",\n          fill: false\n          //backgroundColor: \"#579ADD\"\n        }]\n      },\n      options: {\n        scales: {\n          xAxes: [{ \n            type: \"time\", \n            time: { unit: 'week',round: 'day', displayFormats: { day: 'MMM D', week: 'MMM D' } }\n          }],\n          yAxes: [{ ticks: { beginAtZero: true } }]\n        }\n      }\n    });\n  }\n  \n  drawWeightChart() {\n    this.weightData = this.readingsService.getWeightData();\n    \n    // JDavis: graph weight readings for the past three months.\n    this.weightChart = new Chart(this.weightCanvas.nativeElement, {\n      type: 'line',\n      data: {\n        //labels: [new Date(\"2017-03-25\"), new Date(\"2017-03-26\"), new Date(\"2017-05-22\")],\n        datasets: [{\n          label: \"lbs\",\n          data: this.weightData,\n          borderColor: \"#8BA6C1\",\n          fill: false\n          //backgroundColor: \"#579ADD\"\n        }]\n      },\n      options: {\n        scales: {\n          xAxes: [{ \n            type: \"time\", \n            time: { unit: 'week',round: 'day', displayFormats: { day: 'MMM D', week: 'MMM D' } }\n          }],\n          yAxes: [{ ticks: { beginAtZero: true } }]\n        }\n      }\n    });\n  }\n  \n  drawTemperatureChart() {\n    this.temperatureData = this.readingsService.getTemperatureData();\n    \n    // JDavis: graph weight readings for the past three months.\n    this.temperatureChart = new Chart(this.temperatureCanvas.nativeElement, {\n      type: 'line',\n      data: {\n        //labels: [new Date(\"2017-03-25\"), new Date(\"2017-03-26\"), new Date(\"2017-05-22\")],\n        datasets: [{\n          label: \"lbs\",\n          data: this.temperatureData,\n          borderColor: \"#8BA6C1\",\n          fill: false\n          //backgroundColor: \"#579ADD\"\n        }]\n      },\n      options: {\n        scales: {\n          xAxes: [{ \n            type: \"time\", \n            time: { unit: 'week',round: 'day', displayFormats: { day: 'MMM D', week: 'MMM D' } }\n          }],\n          yAxes: [{ ticks: { beginAtZero: true } }]\n        }\n      }\n    });\n  }\n  \n  drawBPChart() {\n    this.systolicData = this.readingsService.getSystolicData();\n    this.diastolicData = this.readingsService.getDiastolicData();\n    \n    this.bpChart = new Chart(this.bpCanvas.nativeElement, {\n      type: 'line',\n      data: {\n        datasets: \n        [{\n          label: \"systolic\",\n          data: this.systolicData,\n          borderColor: \"#8BA6C1\",\n          fill: false\n          //backgroundColor: \"#579ADD\"\n        }, {\n          label: \"diastolic\",\n          data: this.diastolicData,\n          borderColor: \"#80C038\",\n          fill: false\n          //backgroundColor: \"#BCE194\"\n        }]\n      },\n      options: {\n        scales: {\n          xAxes: [{ \n            type: \"time\", \n            time: { unit: 'week',round: 'day', displayFormats: { day: 'MMM D', week: 'MMM D' } }\n          }],\n          yAxes: [{ ticks: { beginAtZero: true } }]\n        }\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/device/device.ts","import { NgModule } from '@angular/core';\nimport { ReversePipe } from \"./reverse-pipe\";\n\n@NgModule({\n    declarations: [\n        ReversePipe\n    ],\n    imports: [\n\n    ],\n    exports: [\n        ReversePipe\n    ]\n})\nexport class PipesModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","//import { NgModule }      from '@angular/core';\n\nimport { Pipe } from '@angular/core';\n\n@Pipe({\n  name: 'reverse'\n})\nexport class ReversePipe {\n\n  transform(value) {\n    if (!value) return;\n\n    return value.reverse();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/reverse-pipe.ts"],"sourceRoot":""}