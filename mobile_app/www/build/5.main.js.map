{"version":3,"sources":["../../src/pages/system/system.module.ts","../../src/pages/system/system.ts"],"names":[],"mappings":"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","file":"5.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SystemPage } from './system';\n\n@NgModule({\n  declarations: [\n    SystemPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SystemPage),\n  ],\n  exports: [\n    SystemPage\n  ]\n})\nexport class SystemModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system/system.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ViewController, AlertController } from 'ionic-angular';\n//import { Device } from '@ionic-native/device';\n//import { AppVersion } from '@ionic-native/app-version';\nimport { AppData } from '../../providers/app-data/app-data';\nimport { ReadingsService } from '../../services/readings';\nimport { DevicesService } from '../../services/devices';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-system',\n  templateUrl: 'system.html',\n})\nexport class SystemPage {\n  device_model: string = \"not available\";\n  device_platform: string = \"not available\";\n  device_version: string = \"not available\";\n  device_manufacturer: string = \"not available\";\n  device_uuid = \"not avaialble\";\n  app_version: string = \"unknown\";\n  app_name: string = \"Health Engagements\";\n  validic_id = \"not available\";\n  validic_token = \"not available\";\n  he_id = 0;\n  auth_token = \"not available\";\n  reg_code = \"not available\";\n  app_uuid = \"not available\";\n  //patient_sfid = \"not available\";\n\n  constructor( private viewCtrl: ViewController,\n               private alertCtrl: AlertController,\n               private readingsService: ReadingsService,\n               private devicesService: DevicesService,\n               //private events: Events,\n               //private device: Device,\n               //private appVersion: AppVersion,\n               private appData: AppData ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad System');\n    //console.log(this.device.isVirtual);\n\n    this.setDeviceInfo(); \n    this.getAppInfo();  \n    this.getSystemInfo();\n  }\n  \n  dismiss(action = null) {\n    this.viewCtrl.dismiss({action: action});\n    //this.viewCtrl.dismiss({action: action});\n  }\n  \n  setDeviceInfo() {\n    this.device_model = this.appData.device_model;\n    this.device_platform = this.appData.device_platform;\n    this.device_version = this.appData.device_version;\n    this.device_manufacturer = this.appData.device_manufacturer;  \n    this.device_uuid = this.appData.device_uuid;\n  } \n    \n  getAppInfo() {\n    this.app_version = this.appData.app_version;\n    this.app_name = this.appData.app_name;\n  }\n  \n  getSystemInfo() {\n    this.reg_code = this.appData.reg_code;\n    this.validic_id = this.appData.validic_id;\n    this.validic_token = this.appData.validic_token;\n    this.he_id = this.appData.he_id;\n    //this.patient_sfid = this.appData.patient_sfid;\n    this.auth_token = this.appData.auth_token;\n    this.app_uuid = this.appData.APP_UUID;\n  }\n  \n  fetchDevices() {\n    this.devicesService.fetchDevices();\n  }\n  \n  post_readings() {\n    //this.readingsService.postReadings();\n    this.readingsService.postReadings().subscribe((value) => {console.log(value)}, (err) => {console.log(err)});\n  }\n  \n  populate_test_data() {\n    const alert = this.alertCtrl.create({\n      title: \"Test Data\",\n      //subTitle: \"Are you sure?\",\n      message: \"Populating with test data will overwrite current readings on this device.\",\n      buttons: [\n        {\n          text: \"Yes, I know what I'm doing.\",\n          handler: ()=> {\n            this.readingsService.populate_test_readings();\n            this.dismiss(); // JDavis: show login screen;\n            //this.events.publish(\"application:logout\");\n          }\n        },\n        {\n          text: 'No, leave my data alone.',\n          role: 'cancel',\n          handler: ()=> {\n            console.log('cancelled');\n          }\n        }\n      ]\n    });\n\n    alert.present();\n  }\n\n  \n  confirm_logout() {\n    const alert = this.alertCtrl.create({\n      title: \"Log out\",\n      subTitle: \"Are you sure?\",\n      message: \"Logging out will require your registration code (\"+ this.reg_code +\") to use the app again.\",\n      buttons: [\n        {\n          text: 'Yes, log me out',\n          handler: ()=> {\n            this.appData.logout();\n            this.dismiss(\"logout\"); // JDavis: show login screen;\n            //this.events.publish(\"application:logout\");\n          }\n        },\n        {\n          text: 'No, keep me logged in',\n          role: 'cancel',\n          handler: ()=> {\n            console.log('cancelled');\n          }\n        }\n      ]\n    });\n\n    alert.present();\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system/system.ts"],"sourceRoot":""}